### Variables globales
@baseUrl = http://localhost:3000
# Para producci√≥n, cambiar a: https://tu-proyecto.vercel.app
@baseUrlProduction = https://tu-proyecto.vercel.app
@contentType = application/json

###############################################
# üöÄ INSTRUCCIONES PARA USO CORRECTO
###############################################
#
# ‚ö†Ô∏è  IMPORTANTE: SIGUE ESTOS PASOS EN ORDEN:
#
# 1. üî• Aseg√∫rate que tu servidor est√© corriendo: npm start
# 2. üîë Ejecuta PRIMERO el "PASO 1: Login" (abajo)
# 3. üìã Copia el TOKEN completo del response del login
# 4. üîÑ Reemplaza TODOS los "TU_TOKEN_REAL_AQUI" con tu token real
# 5. üì¶ Ejecuta las peticiones en el orden que quieras
# 6. üíæ Para UPDATE/DELETE: guarda los IDs de productos creados
#
# üí° TIP: Los tokens JWT expiran en 24 horas. Si obtienes error 401,
#         vuelve a hacer login para obtener un token fresco.
#
###############################################

###############################################
# INFORMACI√ìN DEL API
###############################################

### Obtener informaci√≥n general del API
GET {{baseUrl}}/

### Health Check
GET {{baseUrl}}/health

###############################################
# AUTENTICACI√ìN
###############################################

### üîë PASO 1: Login - Obtener token JWT (EJECUTAR PRIMERO)
# ‚ö†Ô∏è IMPORTANTE: Ejecuta esta petici√≥n PRIMERO para obtener un token v√°lido
# Luego copia el token del response y √∫salo en las siguientes peticiones
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "username": "admin",
  "password": "admin123"
}

### üîç Verificar token (REEMPLAZA CON TU TOKEN REAL)
# ‚ö†Ô∏è REEMPLAZA el token de abajo con el token obtenido del login anterior
POST {{baseUrl}}/auth/verify
Authorization:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

### Obtener perfil de usuario (requiere token)
# ‚ö†Ô∏è REEMPLAZA el token de abajo con el token obtenido del login
GET {{baseUrl}}/auth/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

### Logout
# ‚ö†Ô∏è REEMPLAZA el token de abajo con el token obtenido del login
POST {{baseUrl}}/auth/logout
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

###############################################
# PRODUCTOS - CRUD COMPLETO
###############################################

### Obtener todos los productos (p√∫blico)
GET {{baseUrl}}/api/products

### Obtener producto por ID (p√∫blico)
GET {{baseUrl}}/api/products/ejemplo-1

### Buscar productos por categor√≠a
GET {{baseUrl}}/api/products?category=smartphones

### üì¶ PASO 2: Crear nuevo producto (requiere autenticaci√≥n)
# ‚ö†Ô∏è IMPORTANTE: REEMPLAZA el token con uno v√°lido obtenido del login
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "iPhone 18 Pro",
  "description": "Smartphone Apple iPhone 15 Pro 128GB - Titanio Natural",
  "price": 1299.99,
  "category": "smartphones",
  "stock": 25
}

### Crear producto - MacBook
# ‚ö†Ô∏è REEMPLAZA el token con uno v√°lido
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "MacBook Pro M3",
  "description": "Laptop Apple MacBook Pro 14 pulgadas con chip M3, 8GB RAM, 512GB SSD",
  "price": 2499.99,
  "category": "laptops",
  "stock": 10
}

### Crear producto - AirPods
# ‚ö†Ô∏è REEMPLAZA el token con uno v√°lido
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "AirPods Pro (2¬™ generaci√≥n)",
  "description": "Auriculares inal√°mbricos con cancelaci√≥n activa de ruido",
  "price": 279.99,
  "category": "audio",
  "stock": 50
}

### Crear producto - iPad
# ‚ö†Ô∏è REEMPLAZA el token con uno v√°lido
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "iPad Air",
  "description": "Tablet iPad Air 10.9 pulgadas con chip M1, Wi-Fi, 64GB",
  "price": 749.99,
  "category": "tablets",
  "stock": 20
}

### üîÑ PASO 3: Actualizar producto (requiere autenticaci√≥n)
# ‚ö†Ô∏è IMPORTANTE: Reemplaza PRODUCT_ID con un ID real obtenido de los productos creados
# ‚ö†Ô∏è IMPORTANTE: Reemplaza el token con uno v√°lido
PUT {{baseUrl}}/api/products/PRODUCT_ID
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "price": 1199.99,
  "stock": 30,
  "description": "iPhone 15 Pro - PRECIO ACTUALIZADO - Smartphone Apple iPhone 15 Pro 128GB"
}

### Actualizar solo el precio
# ‚ö†Ô∏è REEMPLAZA PRODUCT_ID y el token
PUT {{baseUrl}}/api/products/PRODUCT_ID
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "price": 999.99
}

### Actualizar solo el stock
# ‚ö†Ô∏è REEMPLAZA PRODUCT_ID y el token
PUT {{baseUrl}}/api/products/PRODUCT_ID
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "stock": 100
}

### üóëÔ∏è PASO 4: Eliminar producto (requiere autenticaci√≥n)
# ‚ö†Ô∏è IMPORTANTE: Reemplaza PRODUCT_ID con un ID real
# ‚ö†Ô∏è IMPORTANTE: Reemplaza el token con uno v√°lido
DELETE {{baseUrl}}/api/products/PRODUCT_ID
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

###############################################
# PRUEBAS DE VALIDACI√ìN Y ERRORES
###############################################

### Crear producto sin datos requeridos (debe fallar)
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "Producto incompleto"
}

### Crear producto con precio inv√°lido (debe fallar)
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "name": "Producto con precio inv√°lido",
  "description": "Este producto tiene precio negativo",
  "price": -100,
  "category": "test",
  "stock": 5
}

### Intentar crear producto sin token (debe fallar con 401)
POST {{baseUrl}}/api/products/create
Content-Type: {{contentType}}

{
  "name": "Producto sin autorizaci√≥n",
  "description": "Este request no tiene token",
  "price": 99.99,
  "category": "test",
  "stock": 5
}

### Intentar acceder a producto que no existe (debe fallar con 404)
GET {{baseUrl}}/api/products/producto-inexistente

### Intentar actualizar producto que no existe (debe fallar con 404)
PUT {{baseUrl}}/api/products/producto-inexistente
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

{
  "price": 199.99
}

### Intentar eliminar producto que no existe (debe fallar con 404)
DELETE {{baseUrl}}/api/products/producto-inexistente
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2MjU3NDI5NCwiZXhwIjoxNzYyNjYwNjk0LCJpc3MiOiJwcm9kdWN0by1hcGkifQ.3Vpt5hjA25um6EldX7CRJOSop-Nx3z8yXUrYJ9nlajQ

### Endpoint que no existe (debe fallar con 404)
GET {{baseUrl}}/endpoint-inexistente

###############################################
# INSTRUCCIONES DE USO
###############################################

###
# C√ìMO USAR ESTE ARCHIVO:
#
# 1. Aseg√∫rate de tener la extensi√≥n "REST Client" instalada en VS Code
# 2. Inicia tu servidor: npm start
# 3. Ejecuta primero el LOGIN para obtener un token v√°lido
# 4. Copia el token del response y reemplaza todos los tokens de ejemplo
# 5. Haz clic en "Send Request" arriba de cada petici√≥n para ejecutarla
# 6. Los resultados aparecer√°n en una nueva ventana
#
# TIPS:
# - Puedes ejecutar las peticiones en cualquier orden
# - Guarda los IDs de productos creados para usar en PUT/DELETE
# - Las peticiones p√∫blicas (GET) no requieren token
# - Las peticiones protegidas (POST/PUT/DELETE) s√≠ requieren token
###